---
permalink: /offensive/post-exploit/
title: "Post Exploitation"
layout: single
excerpt: " "
author_profile: true
toc: true
toc_label: "Post Exploitation TOC"
toc_icon: "laptop"
---

# Overview
This section will cover the basics of post exploitation.

# Windows
Post exploitation commands to run on windows hosts
## Enumeration
### System
Pull down basic system information (OS, Disk, NICs, Patches, etc)
```
systeminfo
```

Pull Environment Variables
```
Get-ChildItem Env: | ft Key,Value
```

Check what logical disks are on the system
```
wmic logicaldisk get caption,description,providername
```
### Domain
Query for Domain Admin members
```
net group "Domain Admins" /domain
```
Query for Domain Controllers
```
nltest /dclist:<DOMAIN>
```

### Network
Get External IP From WINDOWS
```
powershell.exe Invoke-RestMethod http://ipinfo.io/json
```

Enumerate Open Services
```
netstat -bano
```

NULL Session Testing
```
net use \\127.0.0.1\IPC$ "" /u:""
```

### Process
Get the running process along with the commandline used to execute it
```
wmic path Win32_process Caption,CommandLine,Processid
```

### User
Enumerate SMB users from a network standpoint
```
nmap -sU -sS --script=smb-enum-users -p U:137,T:139 127.0.0.1 
```

This command will most often be flagged by detection tools
```
net users
```

List common Windows User directories (Vista+)
```
dir C:\Users
```

(Win XP and below)
```
dir C:\Documents and Settings
```

Check currently logged in users
```
qwinsta
```

Check on a remote system
```
qwinsta /server:127.0.0.1
```

# Linux
Post exploitation commands to run on linux hosts

## Enumeration
### Domain

### Network
Pull a public IP Address
```
curl -s http://ipinfo.io/
```

Running Services
```
netstat -anop
```

NULL Session Testing
```
smbclient -L //127.0.0.1
```

### Process

### User
Gather a list of usernames
```
cat /etc/passwd
```

Gather a list of groups
```
cat /etc/group
```


# Exchanging Files
[Exchanging Files](/offensive/file_exchange/)

# Reverse Shells
[Reverse Shell List](/offensive/rev_shell/)

# References
https://gist.github.com/willurd/5720255